<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</title>
    <link rel="stylesheet" href="style.css?v=9" />
  </head>
  <body class="login-page">
    <!-- ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤ -->
    <video
      id="bgVid"
      class="bg-video"
      autoplay
      muted
      loop
      playsinline
      preload="auto"
      poster="images/login-poster.jpg"
    >
      <source src="videos/login1.mp4" type="video/mp4" />
      ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ HTML5
    </video>

    <!-- (‡πÄ‡∏≠‡∏≤ bg-anim / visual-panel ‡∏≠‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ä‡∏±‡∏î) -->

    <div class="auth-grid">
      <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô -->
      <div class="login-card">
        <img src="images/logo.png" alt="logo" class="login-logo" />
        <h1 class="login-title">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</h1>

        <form id="loginForm" novalidate>
          <label for="username">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
          <input
            type="text"
            id="username"
            placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"
            required
          />

          <label for="password">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
          <div class="pass-row">
            <input type="password" id="password" placeholder="‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡∏£‡∏≠‡∏Å" />
            <button
              type="button"
              class="toggle-pass"
              aria-label="toggle password"
              onclick="this.previousElementSibling.type = this.previousElementSibling.type==='password' ? 'text' : 'password'"
            >
              üëÅ
            </button>
          </div>

          <button type="submit" class="btn-primary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
          <div class="hint">* ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡πÇ‡∏° ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á</div>
        </form>
      </div>
    </div>

    <script>
      const form = document.getElementById("loginForm");
      const bgVid = document.getElementById("bgVid");
      const NEXT = "intro.html";

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const name = document.getElementById("username").value.trim();
        if (!name) {
          document.querySelector(".login-card").classList.add("shake");
          setTimeout(
            () =>
              document.querySelector(".login-card").classList.remove("shake"),
            500
          );
          return;
        }

        // ‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡πÇ‡∏°
        localStorage.setItem(
          "app_auth",
          JSON.stringify({ loggedIn: true, name, ts: Date.now() })
        );

        // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ô‡πà ‡πÜ (‡∏ö‡∏≤‡∏á‡∏ö‡∏£‡∏≤‡∏ß‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å)
        try {
          await bgVid.play();
        } catch (e) {}

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏ã‡∏π‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á + ‡πÄ‡∏ö‡∏•‡∏≠‡∏Å‡∏≤‡∏£‡πå‡∏î
        document.body.classList.add("zooming");

        // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå (‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö duration ‡πÉ‡∏ô CSS)
        setTimeout(() => (window.location.href = NEXT), 1000);
      });
    </script>
  </body>
</html>
